{% extends "layout.html" %}

{% block title %}{{ g.account.name }}{% endblock %}

{% block body %}
  <h1 class="page-title">
    {{ self.title() }} &mdash; Trade
    <a href="{{ url_for('account', account_id=g.account.account_id) }}" class="btn btn--secondary fr">
      &larr; Back
    </a>
  </h1>

  <div class="well">
    <h2 class="mt0">
      Overview
      <a href="{{ url_for('trades_create', account_id=g.account.account_id) }}" class="btn fr">
        Edit
      </a>
    </h2>
    <table class="table">
      <tbody>
        <tr>
          <th class="tl w-25">Symbol</th>
          <td>{{ g.trade.symbol }}</td>
        </tr>
        <tr>
          <th class="tl">Target Entry Price</th>
          <td>{{ g.trade.target_entry | format_number }}</td>
        </tr>
        <tr>
          <th class="tl">Target Profit Price</th>
          <td>{{ g.trade.target_profit | format_number }}</td>
        </tr>
        <tr>
          <th class="tl">Stop loss price</th>
          <td>{{ g.trade.target_stop | format_number }}</td>
        </tr>
        <tr>
          <th class="tl">Reason for entry</th>
          <td>{{ g.trade.entry_reason or 'N/A' }}</td>
        </tr>
        <tr>
          <th class="tl">Reason for exit</th>
          <td>{{ g.trade.exit_reason or 'N/A' }}</td>
        </tr>
        <tr>
          <th class="tl">Analysis</th>
          <td>{{ g.trade.analysis or 'N/A' }}</td>
        </tr>
      </tbody>
    </table>
  </div>  

  <h2>
    Orders
    <a href="{{ url_for('trades_create', account_id=g.account.account_id) }}" class="btn fr">
      + Add Order
    </a>
  </h2>

  <table class="table">
    <thead>
      <tr>
        <th class="tl">Date</th>
        <th class="tr">Qty</th>
        <th class="tr">Price</th>
        <th class="tr">Commission</th>
        <th class="tr">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>2017-07-03 9:31</td>
        <td class="tr">50</td>
        <td class="tr">32.18</td>
        <td class="tr">0.50</td>
        <td class="tr">
          <a href="{{ url_for('trades_create', account_id=g.account.account_id) }}">
            Edit
          </a>
          &nbsp;
          <a href="{{ url_for('trades_create', account_id=g.account.account_id) }}">
            Delete
          </a>
        </td>
      </tr>
    </tbody>
  </table>
{% endblock %}
